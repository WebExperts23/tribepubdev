{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function BlogSection(){const[posts,setPosts]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{// Define post IDs for each section\nconst postIds=[93,91,89];const apiUrl=\"https://tribepub.storeredesign.com/wp-json/wp/v2/posts\";// Function to fetch post by ID\nconst fetchPost=async id=>{try{const postResponse=await axios.get(\"\".concat(apiUrl,\"/\").concat(id));const post=postResponse.data;// Fetch the featured image ID from the post\nconst featuredImageId=post.featured_media;let featuredImageUrl=\"\";// Default empty\n// Fetch the featured image URL using the media endpoint\nif(featuredImageId){const mediaResponse=await axios.get(\"https://tribepub.storeredesign.com/wp-json/wp/v2/media/\".concat(featuredImageId));featuredImageUrl=mediaResponse.data.source_url;// Use the source URL of the featured image\n}// Format the date as \"October 13, 2024\"\nconst formattedDate=new Date(post.date).toLocaleDateString(\"en-US\",{year:\"numeric\",month:\"long\",day:\"numeric\"});return{title:post.title.rendered,date:formattedDate,// Use the formatted date\ndescription:post.excerpt.rendered,image:featuredImageUrl||\"default-image-path\"// Use the fetched image URL or a placeholder\n};}catch(err){console.error(\"Error fetching post:\",err);return null;}};// Fetch all posts\nconst fetchPosts=async()=>{try{const fetchedPosts=await Promise.all(postIds.map(fetchPost));setPosts(fetchedPosts.filter(Boolean));// Filter out any null responses\nsetLoading(false);}catch(err){setError(\"Error fetching blog posts.\");setLoading(false);}};fetchPosts();},[]);if(loading)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});if(error)return/*#__PURE__*/_jsx(\"p\",{children:error});return/*#__PURE__*/_jsx(\"section\",{className:\"py-16 bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-[1170px] mx-auto px-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl md:text-4xl font-bold text-center mb-4\",children:\"Our Blogs\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-600 mb-12\",children:\"Everything you need to know about membership sites\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid md:grid-cols-2 lg:grid-cols-3 gap-8\",children:posts.map((post,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"overflow-hidden shadow-lg rounded-lg\",children:[/*#__PURE__*/_jsx(\"img\",{src:post.image,alt:post.title,className:\"w-full object-cover h-48\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500 mb-2\",children:post.date}),\"  \",/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-2\",children:post.title}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600 mb-4\",dangerouslySetInnerHTML:{__html:post.description}}),/*#__PURE__*/_jsx(\"button\",{className:\"text-red-800 hover:underline font-medium\",children:\"Read More\"})]})]},index))}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-12\",children:/*#__PURE__*/_jsx(\"button\",{className:\"inline-flex items-center justify-center rounded-full border border-red-800 px-6 py-2 text-red-800 hover:bg-red-800 hover:text-white transition-colors\",children:\"View All Blogs\"})})]})});}","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","BlogSection","posts","setPosts","loading","setLoading","error","setError","postIds","apiUrl","fetchPost","id","postResponse","get","concat","post","data","featuredImageId","featured_media","featuredImageUrl","mediaResponse","source_url","formattedDate","Date","date","toLocaleDateString","year","month","day","title","rendered","description","excerpt","image","err","console","fetchPosts","fetchedPosts","Promise","all","map","filter","Boolean","children","className","index","src","alt","dangerouslySetInnerHTML","__html"],"sources":["D:/Membership Platform/src/components/BlogSection.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default function BlogSection() {\r\n  const [posts, setPosts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // Define post IDs for each section\r\n    const postIds = [93, 91, 89];\r\n    const apiUrl = `https://tribepub.storeredesign.com/wp-json/wp/v2/posts`;\r\n\r\n    // Function to fetch post by ID\r\n    const fetchPost = async (id) => {\r\n      try {\r\n        const postResponse = await axios.get(`${apiUrl}/${id}`);\r\n        const post = postResponse.data;\r\n\r\n        // Fetch the featured image ID from the post\r\n        const featuredImageId = post.featured_media;\r\n\r\n        let featuredImageUrl = \"\"; // Default empty\r\n\r\n        // Fetch the featured image URL using the media endpoint\r\n        if (featuredImageId) {\r\n          const mediaResponse = await axios.get(\r\n            `https://tribepub.storeredesign.com/wp-json/wp/v2/media/${featuredImageId}`\r\n          );\r\n          featuredImageUrl = mediaResponse.data.source_url; // Use the source URL of the featured image\r\n        }\r\n\r\n        // Format the date as \"October 13, 2024\"\r\n        const formattedDate = new Date(post.date).toLocaleDateString(\"en-US\", {\r\n          year: \"numeric\",\r\n          month: \"long\",\r\n          day: \"numeric\",\r\n        });\r\n\r\n        return {\r\n          title: post.title.rendered,\r\n          date: formattedDate,  // Use the formatted date\r\n          description: post.excerpt.rendered,\r\n          image: featuredImageUrl || \"default-image-path\", // Use the fetched image URL or a placeholder\r\n        };\r\n      } catch (err) {\r\n        console.error(\"Error fetching post:\", err);\r\n        return null;\r\n      }\r\n    };\r\n\r\n    // Fetch all posts\r\n    const fetchPosts = async () => {\r\n      try {\r\n        const fetchedPosts = await Promise.all(postIds.map(fetchPost));\r\n        setPosts(fetchedPosts.filter(Boolean)); // Filter out any null responses\r\n        setLoading(false);\r\n      } catch (err) {\r\n        setError(\"Error fetching blog posts.\");\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchPosts();\r\n  }, []);\r\n\r\n  if (loading) return <p>Loading...</p>;\r\n  if (error) return <p>{error}</p>;\r\n\r\n  return (\r\n    <section className=\"py-16 bg-white\">\r\n      <div className=\"max-w-[1170px] mx-auto px-4\">\r\n        <h2 className=\"text-3xl md:text-4xl font-bold text-center mb-4\">\r\n          Our Blogs\r\n        </h2>\r\n        <p className=\"text-center text-gray-600 mb-12\">\r\n          Everything you need to know about membership sites\r\n        </p>\r\n\r\n        <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n          {posts.map((post, index) => (\r\n            <div key={index} className=\"overflow-hidden shadow-lg rounded-lg\">\r\n              <img\r\n                src={post.image}\r\n                alt={post.title}\r\n                className=\"w-full object-cover h-48\"\r\n              />\r\n              <div className=\"p-6\">\r\n                <div className=\"text-sm text-gray-500 mb-2\">{post.date}</div>  {/* Display the formatted date */}\r\n                <h3 className=\"text-xl font-semibold mb-2\">{post.title}</h3>\r\n                <div\r\n                  className=\"text-gray-600 mb-4\"\r\n                  dangerouslySetInnerHTML={{ __html: post.description }}\r\n                />\r\n                <button className=\"text-red-800 hover:underline font-medium\">\r\n                  Read More\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"text-center mt-12\">\r\n          <button className=\"inline-flex items-center justify-center rounded-full border border-red-800 px-6 py-2 text-red-800 hover:bg-red-800 hover:text-white transition-colors\">\r\n            View All Blogs\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}